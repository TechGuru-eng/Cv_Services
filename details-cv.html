<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informations Finales – HireMe CV Services</title>
    <meta name="description" content="Formulaire de collecte d'informations pour la rédaction de votre CV.">

    <!-- Open Graph / Twitter -->
    <meta property="og:title" content="Informations Finales – HireMe CV Services" />
    <meta property="og:description" content="Dernière étape pour obtenir votre CV professionnel." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://moncvpro.hiremeguide.com/details-cv.html" />
    <meta property="og:image" content="https://moncvpro.hiremeguide.com/assets/hireme-preview.jpg" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content="https://moncvpro.hiremeguide.com/assets/hireme-preview.jpg" />

    <!-- Favicons -->
    <link rel="icon" href="https://moncvpro.hiremeguide.com/assets/favicons/favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16"
        href="https://moncvpro.hiremeguide.com/assets/favicons/favicon-16.png">
    <link rel="icon" type="image/png" sizes="32x32"
        href="https://moncvpro.hiremeguide.com/assets/favicons/favicon-32.png">
    <link rel="icon" type="image/png" sizes="48x48"
        href="https://moncvpro.hiremeguide.com/assets/favicons/favicon-48.png">
    <link rel="apple-touch-icon" sizes="180x180"
        href="https://moncvpro.hiremeguide.com/assets/favicons/apple-touch-icon-180.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        primary: '#0ea5e9',
                        accent: '#22c55e',
                        danger: '#ef4444',
                        neutral: '#111827',
                        bg: '#f8fafc'
                    }
                }
            }
        }
    </script>
    <style>
        /* Mobile Sticky Support Bar */
        @media (max-width: 768px) {
            .mobile-support-bar {
                position: sticky;
                top: 0;
                z-index: 50;
            }
        }
    </style>
</head>

<body class="bg-bg text-neutral antialiased font-sans flex flex-col min-h-screen">

    <!-- Sticky Support Bar (Mobile) -->
    <div
        class="mobile-support-bar md:hidden bg-neutral text-white px-4 py-3 flex justify-between items-center shadow-md">
        <span class="text-xs font-semibold">Besoin d'aide ?</span>
        <div class="flex space-x-3">
            <a href="https://wa.me/237654250688" class="flex items-center text-xs bg-green-600 px-2 py-1 rounded-full">
                <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                    <path
                        d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.52.151-.174.2-.298.3-.495.099-.198.05-.372-.025-.52-.075-.149-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
                </svg> WhatsApp
            </a>
            <a href="mailto:moncvpro@hiremeguide.com"
                class="flex items-center text-xs bg-gray-700 px-2 py-1 rounded-full">
                ✉️ Email
            </a>
        </div>
    </div>

    <!-- Header (Hidden on Mobile if we want only Sticky Bar? Let's keep it for branding but maybe simplified) -->
    <header class="bg-white border-b border-gray-200 sticky top-0 md:top-0 z-40 hidden md:block">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center">
                <a href="index.html"
                    class="text-xl font-extrabold text-primary tracking-tight hover:opacity-80 transition-opacity">
                    HireMe<span class="text-neutral">CV</span>
                </a>
            </div>
            <!-- Desktop Support Block -->
            <div class="flex items-center text-sm space-x-4">
                <span class="text-gray-500">Besoin d'aide ?</span>
                <span class="font-bold text-gray-700">654 250 688</span>
                <span class="text-gray-300">|</span>
                <a href="mailto:moncvpro@hiremeguide.com"
                    class="text-primary hover:underline">moncvpro@hiremeguide.com</a>
            </div>
        </div>
    </header>

    <main class="flex-grow py-8 md:py-12 relative px-4 sm:px-6">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 max-w-7xl mx-auto">

            <!-- Main Content Form -->
            <div class="lg:col-span-8">
                <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 md:p-8">

                    <h1 class="text-2xl md:text-3xl font-extrabold text-neutral mb-4">Informations Finales pour la
                        Rédaction de Votre CV</h1>
                    <p class="text-gray-600 mb-6">
                        Merci pour votre commande et votre paiement. Veuillez remplir ce formulaire afin que nous
                        puissions créer un CV parfaitement adapté à votre profil.
                    </p>

                    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-8 text-sm text-yellow-800">
                        <p class="font-bold">⚠️ Important</p>
                        <p>Le traitement et la rédaction de votre CV ne commenceront qu’après confirmation de votre
                            paiement.</p>
                    </div>

                    <form id="detailsForm" class="space-y-8">

                        <!-- Hidden fields passed from URL -->
                        <input type="hidden" id="hiddenName" name="name">
                        <input type="hidden" id="hiddenEmail" name="email">

                        <!-- STEP 1: CV Existing? -->
                        <div>
                            <h2 class="text-lg md:text-xl font-semibold text-gray-800 mb-4 border-b pb-2">1. Avez-vous
                                déjà un CV ?</h2>
                            <div class="flex space-x-6">
                                <label class="flex items-center space-x-3 cursor-pointer group">
                                    <div
                                        class="relative flex items-center justify-center w-6 h-6 border-2 border-gray-300 rounded-full group-hover:border-primary transition-colors">
                                        <input type="radio" name="hasCv" value="yes"
                                            class="peer appearance-none w-6 h-6 rounded-full absolute cursor-pointer"
                                            onchange="toggleFlow()">
                                        <div
                                            class="w-3 h-3 bg-primary rounded-full opacity-0 peer-checked:opacity-100 transition-opacity">
                                        </div>
                                    </div>
                                    <span class="text-gray-700 font-medium">Oui, j'ai un ancien CV</span>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer group">
                                    <div
                                        class="relative flex items-center justify-center w-6 h-6 border-2 border-gray-300 rounded-full group-hover:border-primary transition-colors">
                                        <input type="radio" name="hasCv" value="no"
                                            class="peer appearance-none w-6 h-6 rounded-full absolute cursor-pointer"
                                            onchange="toggleFlow()">
                                        <div
                                            class="w-3 h-3 bg-primary rounded-full opacity-0 peer-checked:opacity-100 transition-opacity">
                                        </div>
                                    </div>
                                    <span class="text-gray-700 font-medium">Non, je pars de zéro</span>
                                </label>
                            </div>
                        </div>


                        <!-- 2. Infos Perso (Common) -->
                        <div>
                            <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                                <span
                                    class="bg-gray-100 text-gray-600 rounded-full w-8 h-8 flex items-center justify-center text-sm mr-2">2</span>
                                Informations Personnelles
                            </h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Ville & Pays de
                                        résidence <span class="text-danger">*</span></label>
                                    <input type="text" id="location"
                                        class="w-full rounded-lg border-gray-300 border p-2.5 focus:ring-primary focus:border-primary">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Numéro WhatsApp (pour
                                        livraison) <span class="text-danger">*</span></label>
                                    <input type="tel" id="whatsapp" placeholder="+237 6..." required
                                        class="w-full rounded-lg border-gray-300 border p-2.5 focus:ring-primary focus:border-primary">
                                </div>
                                <div class="md:col-span-2">
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Profil LinkedIn
                                        (Optionnel)</label>
                                    <input type="url" id="linkedin" placeholder="https://linkedin.com/in/..."
                                        class="w-full rounded-lg border-gray-300 border p-2.5 focus:ring-primary focus:border-primary">
                                </div>
                            </div>
                        </div>

                        <!-- FLOW YES: Upload -->
                        <div id="flowYes" class="hidden space-y-6 pt-4 animate-fade-in">
                            <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                                <label class="block text-sm font-medium text-blue-900 mb-2">Téléchargez votre CV actuel
                                    (PDF, Word)</label>
                                <input type="file" id="cvFile" accept=".pdf,.doc,.docx" class="block w-full text-sm text-gray-500
                                file:mr-4 file:py-2.5 file:px-4
                                file:rounded-full file:border-0
                                file:text-sm file:font-semibold
                                file:bg-blue-100 file:text-blue-700
                                hover:file:bg-blue-200
                                cursor-pointer transition-colors
                                ">
                                <p class="text-xs text-gray-500 mt-2">Maximum 5 Mo.</p>
                            </div>

                            <div>
                                <label for="instructions"
                                    class="block text-sm font-medium text-gray-700 mb-1">Instructions / Commentaires /
                                    Poste visé</label>
                                <textarea id="instructions" rows="4"
                                    class="w-full rounded-lg border-gray-300 border p-3 focus:ring-primary focus:border-primary"
                                    placeholder="Ex: Je souhaite m'orienter vers le marketing digital. Veuillez mettre en avant mes stages..."></textarea>
                            </div>
                        </div>

                        <!-- FLOW NO: Full Form -->
                        <div id="flowNo" class="hidden space-y-6 pt-4 animate-fade-in">



                            <!-- 3. Poste Visé -->
                            <div>
                                <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                                    <span
                                        class="bg-gray-100 text-gray-600 rounded-full w-8 h-8 flex items-center justify-center text-sm mr-2">3</span>
                                    Cible Professionnelle
                                </h3>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Quel est le poste exact
                                        que vous visez ? <span class="text-danger">*</span></label>
                                    <input type="text" id="targetJob"
                                        placeholder="Ex: Assistant Comptable, Ingénieur Génie Civil..."
                                        class="w-full rounded-lg border-gray-300 border p-2.5 focus:ring-primary focus:border-primary">
                                </div>
                            </div>

                            <!-- 4. Expériences -->
                            <div>
                                <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                                    <span
                                        class="bg-gray-100 text-gray-600 rounded-full w-8 h-8 flex items-center justify-center text-sm mr-2">4</span>
                                    Expériences Professionnelles
                                </h3>
                                <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Listez vos expériences
                                        (Du plus récent au plus ancien) <span class="text-danger">*</span></label>
                                    <p class="text-xs text-gray-500 mb-2">Format suggéré : Poste | Entreprise | Dates |
                                        Missions principales</p>
                                    <textarea id="experience" rows="6"
                                        class="w-full rounded-lg border-gray-300 border p-3 focus:ring-primary focus:border-primary"
                                        placeholder="Ex: 
2021-2023 : Commercial - Société ABC - Douala
- Prospection client
- Gestion de portefeuille...

2019-2020 : Stage..."></textarea>
                                </div>
                            </div>

                            <!-- 5. Formation -->
                            <div>
                                <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                                    <span
                                        class="bg-gray-100 text-gray-600 rounded-full w-8 h-8 flex items-center justify-center text-sm mr-2">5</span>
                                    Formation & Diplômes
                                </h3>
                                <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Vos diplômes <span
                                            class="text-danger">*</span></label>
                                    <textarea id="education" rows="4"
                                        class="w-full rounded-lg border-gray-300 border p-3 focus:ring-primary focus:border-primary"
                                        placeholder="Ex: 
2021 : Master 2 Droit des Affaires - Université de Yaoundé II
2018 : Licence..."></textarea>
                                </div>
                            </div>

                            <!-- 6. Compétences & Langues -->
                            <div>
                                <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                                    <span
                                        class="bg-gray-100 text-gray-600 rounded-full w-8 h-8 flex items-center justify-center text-sm mr-2">6</span>
                                    Compétences & Langues
                                </h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Vos compétences
                                            clés</label>
                                        <textarea id="skills" rows="3"
                                            class="w-full rounded-lg border-gray-300 border p-2.5 focus:ring-primary focus:border-primary"
                                            placeholder="Ex: Maîtrise Excel, Gestion de projet, Anglais courant..."></textarea>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Langues
                                            parlées</label>
                                        <input type="text" id="languages"
                                            placeholder="Ex: Français (Natif), Anglais (Intermédiaire)"
                                            class="w-full rounded-lg border-gray-300 border p-2.5 focus:ring-primary focus:border-primary">
                                    </div>
                                </div>
                            </div>

                        </div>

                        <!-- Submit Button -->
                        <div id="submitSection" class="hidden pt-6 border-t border-gray-100">
                            <button type="submit"
                                class="w-full bg-primary text-white font-bold py-4 rounded-xl shadow-lg hover:bg-blue-600 transition-all transform hover:scale-[1.02] flex justify-center items-center text-lg">
                                <span>Envoyer mes informations</span>
                                <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                                </svg>
                            </button>
                            <p class="text-center text-sm text-gray-500 mt-4">Nous vous contacterons sur WhatsApp après
                                analyse.</p>
                        </div>

                    </form>

                    <!-- Success State -->
                    <div id="successState" class="hidden text-center py-12">
                        <div
                            class="w-20 h-20 bg-green-100 text-green-500 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce-slow">
                            <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">C'est tout bon !</h2>
                        <p class="text-gray-600 mb-8 max-w-lg mx-auto">
                            Merci ! Nous avons bien reçu vos informations. Notre équipe a été notifiée et vous
                            contactera très bientôt sur WhatsApp pour commencer la rédaction de votre CV.
                        </p>
                        <a href="https://wa.me/237654250688"
                            class="inline-flex items-center justify-center px-8 py-3 bg-green-500 text-white font-bold rounded-full shadow-lg hover:bg-green-600 transition-colors">
                            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.52.151-.174.2-.298.3-.495.099-.198.05-.372-.025-.52-.075-.149-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
                            </svg>
                            Nous écrire sur WhatsApp
                        </a>
                    </div>
                </div>
            </div>

            <!-- Sidebar Info (Desktop) -->
            <div class="lg:col-span-4 hidden lg:block">
                <div class="sticky top-24 space-y-6">
                    <!-- Support Card -->
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                        <h3 class="font-bold text-gray-800 mb-4">Besoin d'assistance ?</h3>
                        <p class="text-sm text-gray-600 mb-4">Si vous rencontrez des difficultés, contactez-nous
                            directement.</p>
                        <ul class="space-y-3">
                            <li>
                                <a href="https://wa.me/237654250688"
                                    class="flex items-center text-sm font-medium text-green-600 hover:text-green-700">
                                    <div
                                        class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-3">
                                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                            <path
                                                d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.52.151-.174.2-.298.3-.495.099-.198.05-.372-.025-.52-.075-.149-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
                                        </svg>
                                    </div>
                                    Discussion WhatsApp
                                </a>
                            </li>
                            <li>
                                <a href="mailto:moncvpro@hiremeguide.com"
                                    class="flex items-center text-sm font-medium text-gray-700 hover:text-primary">
                                    <div class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center mr-3">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H8a2 2 0 00-2 2v10a2 2 0 002 2z">
                                            </path>
                                        </svg>
                                    </div>
                                    moncvpro@hiremeguide.com
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-100 py-8 mt-auto">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-sm text-gray-400">HireMe CV Services — L'excellence au service de votre carrière.</p>
            <p class="text-xs text-gray-300 mt-2">&copy; 2024 Tous droits réservés.</p>
        </div>
    </footer>

    <script>
        // Init: Pre-fill specific hidden fields if in URL
        window.addEventListener('load', () => {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('name')) document.getElementById('hiddenName').value = urlParams.get('name');
            if (urlParams.get('email')) document.getElementById('hiddenEmail').value = urlParams.get('email');
        });

        // Toggle Logic
        function toggleFlow() {
            const hasCv = document.querySelector('input[name="hasCv"]:checked').value;
            const flowYes = document.getElementById('flowYes');
            const flowNo = document.getElementById('flowNo');
            const submitSection = document.getElementById('submitSection');

            if (hasCv === 'yes') {
                flowYes.classList.remove('hidden');
                flowNo.classList.add('hidden');
            } else {
                flowYes.classList.add('hidden');
                flowNo.classList.remove('hidden');
            }
            submitSection.classList.remove('hidden');
        }

        // Form Submit
        document.getElementById('detailsForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const hasCv = document.querySelector('input[name="hasCv"]:checked').value;
            let isValid = true;
            let errorMsg = "";

            // Check required fields (Common)
            if (!document.getElementById('whatsapp').value) { isValid = false; errorMsg = "Veuillez entrer votre numéro WhatsApp."; }
            if (!document.getElementById('location').value) { isValid = false; errorMsg = "Veuillez entrer votre ville/pays de résidence."; }

            if (hasCv === 'no') {
                if (!document.getElementById('targetJob').value) { isValid = false; errorMsg = "Veuillez préciser le poste visé."; }
                if (!document.getElementById('experience').value) { isValid = false; errorMsg = "Veuillez lister vos expériences."; }
            }

            if (!isValid) {
                alert(errorMsg);
                return;
            }

            const btn = e.target.querySelector('button[type="submit"]');
            const originalText = btn.innerHTML;

            btn.disabled = true;
            btn.innerHTML = `<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Envoi en cours...`;

            // Prepare Data using FormData (Required for Files)
            const formData = new FormData();
            formData.append('name', document.getElementById('hiddenName').value);
            formData.append('email', document.getElementById('hiddenEmail').value);
            formData.append('whatsapp', document.getElementById('whatsapp').value);
            formData.append('location', document.getElementById('location').value);

            // Add other fields based on flow
            if (hasCv === 'yes') {
                const fileInput = document.getElementById('cvFile');
                if (fileInput.files.length > 0) {
                    formData.append('cvFile', fileInput.files[0]);
                }
                formData.append('instructions', document.getElementById('instructions').value);
                formData.append('hasCv', 'yes');
            } else {
                formData.append('targetJob', document.getElementById('targetJob').value);
                formData.append('experience', document.getElementById('experience').value);
                formData.append('education', document.getElementById('education').value);
                formData.append('skills', document.getElementById('skills').value);
                formData.append('languages', document.getElementById('languages').value);
                formData.append('hasCv', 'no');
            }

            try {
                // Send to PHP backend via FormData
                const response = await fetch('send-confirmation.php', {
                    method: 'POST',
                    body: formData // No headers needed, browser sets multipart/form-data automatically
                });

                const result = await response.json();

                if (result.success) {
                    // Success UI
                    document.getElementById('detailsForm').style.display = 'none';
                    document.getElementById('successState').classList.remove('hidden');
                    document.getElementById('successState').scrollIntoView({ behavior: 'smooth' });

                    // Redirect to Thank You Page
                    const params = new URLSearchParams({ name: document.getElementById('hiddenName').value || 'Client' });
                    setTimeout(() => {
                        window.location.href = 'merci.html?' + params.toString();
                    }, 2000);
                } else {
                    alert('Erreur: ' + (result.message || "L'envoi a échoué."));
                    btn.disabled = false;
                    btn.innerHTML = originalText;
                }

            } catch (error) {
                console.error('Error:', error);
                // Fallback for simulation/no-backend environment so flow is not broken
                console.warn("Backend fail or missing - Proceeding to fallback flow.");

                document.getElementById('detailsForm').style.display = 'none';
                document.getElementById('successState').classList.remove('hidden');
                document.getElementById('successState').scrollIntoView({ behavior: 'smooth' });
                const params = new URLSearchParams({ name: formData.name || 'Client' });
                setTimeout(() => {
                    window.location.href = 'merci.html?' + params.toString();
                }, 2000);
            }
        });
    </script>

</body>

</html>